!function(n){var i={};function a(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,a),e.l=!0,e.exports}a.m=n,a.c=i,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(n,i,function(t){return e[t]}.bind(null,i));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=4)}([function(t,e,n){},function(t,e){document.addEventListener("DOMContentLoaded",function(){!function(){var t=document.querySelectorAll(".actions .addBtn"),e=document.getElementById("addForm"),n=document.getElementById("characterIcon");t.forEach(function(t){t.addEventListener("click",function(t){e.parentElement.classList.remove("hidden"),n.firstChild.className=""})}),addPC.addEventListener("click",function(){addForm.setAttribute("data-type","pc"),n.firstChild.classList.add("fal","fa-user")}),addNPC.addEventListener("click",function(){addForm.setAttribute("data-type","npc"),n.firstChild.classList.add("fal","fa-user-crown")}),addMonster.addEventListener("click",function(){addForm.setAttribute("data-type","monster"),n.firstChild.classList.add("fal","fa-paw-claws")})}(),document.querySelectorAll(".addForm input").forEach(function(t){t.addEventListener("focus",function(){this.parentElement.classList.add("focused")}),t.addEventListener("blur",function(){""==this.value&&this.parentElement.classList.remove("focused")})})})},function(i,t,e){(function(t){var e=t&&t.pid?t.pid.toString(36):"";function n(){var t=Date.now(),e=n.last||t;return n.last=e<t?t:e+1}i.exports=i.exports.default=function(t){return(t||"")+""+e+n().toString(36)},i.exports.process=function(t){return(t||"")+e+n().toString(36)},i.exports.time=function(t){return(t||"")+n().toString(36)}}).call(this,e(3))},function(t,e){var n,i,a=t.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function c(e){if(n===setTimeout)return setTimeout(e,0);if((n===r||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:r}catch(t){n=r}try{i="function"==typeof clearTimeout?clearTimeout:o}catch(t){i=o}}();var u,s=[],l=!1,d=-1;function f(){l&&u&&(l=!1,u.length?s=u.concat(s):d=-1,s.length&&h())}function h(){if(!l){var t=c(f);l=!0;for(var e=s.length;e;){for(u=s,s=[];++d<e;)u&&u[d].run();d=-1,e=s.length}u=null,l=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===o||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(t)}}function v(t,e){this.fun=t,this.array=e}function m(){}a.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new v(t,e)),1!==s.length||l||c(h)},v.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=m,a.addListener=m,a.once=m,a.off=m,a.removeListener=m,a.removeAllListeners=m,a.emit=m,a.prependListener=m,a.prependOnceListener=m,a.listeners=function(t){return[]},a.binding=function(t){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(t){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(t,e,n){"use strict";n.r(e);var i;n(0),n(1);function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var u=(a(i={characterList:document.getElementById("characterList"),nameInput:document.getElementById("charName"),healthInput:document.getElementById("charHealth"),initiativeInput:document.getElementById("charInitiative"),roundCounter:document.getElementById("roundCounter"),resultSpan:document.getElementById("result"),d4Input:document.getElementById("d4-amount"),d6Input:document.getElementById("d6-amount"),d8Input:document.getElementById("d8-amount"),d10Input:document.getElementById("d10-amount"),d12Input:document.getElementById("d12-amount"),d20Input:document.getElementById("d20-amount"),d100Input:document.getElementById("d100-amount")},"nameInput",document.getElementById("charName")),a(i,"healthInput",document.getElementById("charHealth")),a(i,"initiativeInput",document.getElementById("charInitiative")),a(i,"roundCounter",document.getElementById("roundCounter")),a(i,"infoButton",document.querySelector(".info-button")),a(i,"overlay",document.querySelector(".overlay")),a(i,"app",document.getElementById("app")),i),r={characters:[],list:""};function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var c=function(){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.round=1,this._charCount=t.length,this.tick=0}return function(t,e,n){e&&o(t.prototype,e),n&&o(t,n)}(e,[{key:"nextTick",value:function(){this.tick++,this.checkRound()}},{key:"prevTick",value:function(){this.tick--,this.checkRound()}},{key:"reset",value:function(){this.round=1,this.tick=0,u.roundCounter.innerHTML=this.round}},{key:"checkRound",value:function(){this.round=Math.floor(this.tick/this.charCount)+1,u.roundCounter.innerHTML=this.round}},{key:"charCount",get:function(){return this._charCount},set:function(t){this._charCount=t}}]),e}(),s=function(t){return Math.floor(Math.random()*t)+1};function l(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function d(){var n="";r.characters.forEach(function(t){var e=function(t,e,n,i,a,r){return'<div class="character '.concat(e," anIn ").concat(r?"death":"",'" data-id="').concat(t,'" id="').concat(t,'">\n            <div class="stats">\n              <div class="rolledInitiative">\n                <i class="fal fa-dice-d20"></i>\n                <span>').concat(a,'</span>\n              </div>\n            </div>\n            <div class="info">\n              <div class="name">').concat(n,'</div>\n              <div class="health hp"><i class="fal fa-heart hp"></i><span class="healthPoints hp">').concat(i,'</span></div>\n            </div>\n            <div class="boxActions">\n              <button class="btnHealth decHealth" onclick=decHealth("').concat(t,'")><i class="fal fa-minus"></i></button>\n              <input type="number" id="adjustHealth">\n              <button class="btnHealth incHealth" onclick=incHealth("').concat(t,'")><i class="fal fa-plus"></i></button>\n            </div>\n          </div>')}(t.id,t.type,t.name,t.health,t.initiative,t.dead);n+=e}),u.characterList.innerHTML=n}var f=function(){function r(t,e,n,i,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),this._id=t,this._type=e,this._name=n,this._health=i,this._initiative=a,this.dead=!1}return function(t,e,n){e&&l(t.prototype,e),n&&l(t,n)}(r,[{key:"getInfo",value:function(){console.log("Info",this.name,this.initiative,this.health,this.type)}},{key:"increaseHealth",value:function(t){this._health+=t}},{key:"decreaseHealth",value:function(t){this._health-=t}},{key:"id",get:function(){return this._id},set:function(t){this._id=t}},{key:"type",get:function(){return this._type},set:function(t){this._type=t}},{key:"name",get:function(){return this._name},set:function(t){""!==t&&(this._name=t)}},{key:"health",get:function(){return this._health},set:function(t){""!==t&&(this._health=t)}},{key:"initiative",get:function(){return this._initiative},set:function(t){""!==t&&(this._initiative=t)}}]),r}(),h=n(2);function v(){r.characters=[],""!==r.list&&r.list.reset(),u.characterList.innerHTML=""}function m(){if(r.characters.length){var t=r.characters.shift();r.characters.push(t),d(),r.list.nextTick()}}function p(){if(r.characters.length){var t=r.characters.pop();r.characters.unshift(t),d(),r.list.prevTick()}}function y(t,e){""===t?e.classList.add("error"):e.classList.remove("error")}function g(t){t.target.classList.contains("error")&&t.target.classList.remove("error")}function L(t,e){var n=document.getElementById(t),i=function(e){return r.characters.find(function(t){return t.id===e})}(t),a=parseInt(document.querySelector("#".concat(t," input")).value);"inc"===e?i.increaseHealth(a):"dec"===e&&i.decreaseHealth(a),i.health<=0&&(i.dead=!0,i.health=0,n.classList.add("death")),document.querySelector("#".concat(t," input")).value="",document.querySelector("#".concat(t," .healthPoints")).textContent=i.health,function(t){document.getElementById(t).classList.remove("open")}(t)}function I(){[{die:d4,value:4},{die:d6,value:6},{die:d8,value:8},{die:d10,value:10},{die:d12,value:12},{die:d20,value:20},{die:d100,value:100}].forEach(function(n){n.die.addEventListener("submit",function(t){t.preventDefault();var e=function(t){var e="d"+t.toString()+"Input",n=u[e].value,i=[],a=0,r=!1;if(""===n||n<=1)a=s(t);else if(999<n)r=!0;else for(var o=0;o<n;o++){var c=s(t);i.push(c),a+=c}return{tooMuch:r,diceValue:t,amount:n,total:a,totalArray:i}}(n.value);e.tooMuch?function(t,e){var n=["Hey Daan, ".concat(e," dice? Realy?"),'Hey Daan, what monster does <span class="rolledDice fail"><i class="fal fa-dice-d'.concat(t,'"></i> ').concat(e,"d").concat(t,"</span> damage?"),"Hey Daan, ".concat(e," dice is a bit excessive"),"Hey Daan, That must be dice fixing","Hey Daan, You really want your PC's to die","Hey Daan, How many? WOW"],i=Math.floor(Math.random()*n.length),a="d"+t.toString()+"Input",r='<div class="rollResult animate-in">\n                        <div class="rollTotal">\n                          <span class="rolledResult errorText fail">'.concat(n[i],"</span>\n                        </div>\n                      </div>");u.resultSpan.insertAdjacentHTML("afterbegin",r),u[a].value=""}(e.diceValue,e.amount):function(t,e,n,i){var a="d"+t.toString()+"Input",r="";20===t&&""===e&&(20===n&&(r="crit"),1===n&&(r="fail"));var o='<div class="rollResult animate-in">\n                        <div class="rollTotal">\n                          <span class="rolledDice '.concat(r,'"><i class="fal fa-dice-d').concat(t,'"></i> ').concat(e,"d").concat(t,'</span> \n                          <span class="rolledResult ').concat(r,'">').concat(n,'</span>\n                        </div>\n                        <div class="rollAll">').concat(i.join(" + "),"</div>\n                      </div>");u.resultSpan.insertAdjacentHTML("afterbegin",o),u[a].value=""}(e.diceValue,e.amount,e.total,e.totalArray)})})}function E(){u.nameInput.addEventListener("focus",g),u.healthInput.addEventListener("focus",g),u.initiativeInput.addEventListener("focus",g),addForm.addEventListener("submit",function(t){t.preventDefault();var e=this.dataset.type,n=u.nameInput.value,i=u.healthInput.value,a=u.initiativeInput.value;!function(t,e,n){var i=new f,a=!1;return i.name=t,i.health=e,i.initiative=n,i.name&&i.health&&i.initiative&&(a=!0),a}(n,i,a)?(y(n,u.nameInput),y(i,u.healthInput),y(a,u.initiativeInput)):(function(t,e,n,i){var a=new f(h.process(),t,e,parseInt(n),i);r.characters.push(a)}(e,n,i,a),function(e,n,i){addForm.parentElement.classList.add("hidden"),setTimeout(function(t){e.value="",n.value="",i.value="",e.parentElement.classList.remove("focused"),n.parentElement.classList.remove("focused"),i.parentElement.classList.remove("focused")},400)}(u.nameInput,u.healthInput,u.initiativeInput),r.characters.sort(function(t,e){return t._initiative-e._initiative}),r.characters.reverse(),""===r.list?r.list=new c(r.characters):r.list.charCount=r.characters.length,r.list.reset(),d())})}function b(){clear.addEventListener("click",v),nextTurn.addEventListener("click",m),prevTurn.addEventListener("click",p),u.characterList.addEventListener("click",function(t){t.target.classList.contains("hp")&&function(t){document.getElementById(t).classList.toggle("open")}(t.target.classList.contains("health")?t.target.parentNode.parentNode.id:t.target.parentNode.parentNode.parentNode.id)}),window.incHealth=function(t){var e=parseInt(document.querySelector("#".concat(t," input")).value);console.log(e),isNaN(e)||L(t,"inc")},window.decHealth=function(t){var e=parseInt(document.querySelector("#".concat(t," input")).value);isNaN(e)||L(t,"dec")}}window.addEventListener("load",function(){I(),E(),b(),u.infoButton.addEventListener("click",function(){u.overlay.classList.toggle("active"),u.infoButton.firstChild.nextSibling.classList.toggle("fa-info"),u.infoButton.firstChild.nextSibling.classList.toggle("fa-times")}),u.overlay.addEventListener("click",function(t){t.target.classList.contains("overlay")&&(u.overlay.classList.toggle("active"),u.infoButton.firstChild.nextSibling.classList.toggle("fa-info"),u.infoButton.firstChild.nextSibling.classList.toggle("fa-times"))}),console.log("App loaded")}),"serviceWorker"in navigator&&window.addEventListener("load",function(){navigator.serviceWorker.register("./sw.js").then(function(t){console.log("SW registered: ",t)}).catch(function(t){console.log("SW registration failed: ",t)})})}]);
//# sourceMappingURL=bundle.js.map